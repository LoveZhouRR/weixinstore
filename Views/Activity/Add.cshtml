@using System.Collections.ObjectModel
@using DBC.WeChat.Models.Conversation
@model DBC.WeChat.Models.Conversation.Activity


@using (Ajax.BeginForm("Add", "Activity", null, new AjaxOptions()
{
    HttpMethod = "POST",
    InsertionMode = InsertionMode.Replace,
    UpdateTargetId = "List",
    OnSuccess = "AddSuccess",
}, new { id = "AddForm" }))
{
    <div class="sc_ctm">
        <span>活动名称</span>
        <div class="sc_ctmm">
            @Html.TextBoxFor(m => m.Name)
        </div>
    </div>
    <div class="sc_ctm sc_top">
        <span>活动类型</span>
        <div class="sc_ctmm">
            <select id="TypeSelect">
                <option value="1">刮刮卡</option>
                <option value="2">大转盘</option>
            </select>
        </div>
    </div>
    <div class="sc_ctm sc_top">
        <span>活动条件</span>
        <div class="sc_ctmm">
            <select id="RuleTypeSelect">
                <option value="1">限制次数规则</option>
                <option value="2">使用积分规则</option>
                <option value="3">每日次数限制</option>
            </select>
        </div>
    </div>
    <div class="sc_ctm sc_top" id="RequireCredits" style="display: none">
        <span>活动消耗积分</span>
        <div class="sc_ctmm">
            @Html.TextBoxFor(m => m.RequireCredits)
        </div>
    </div>
    <div class="sc_ctm sc_top" id="Times" style="display: block;">
        <span>活动限制次数</span>
        <div class="sc_ctmm">
            @Html.TextBoxFor(m => m.Times)
        </div>
    </div>
    <div class="sc_ctm sc_top">
        <span>未中奖提示</span>
        <div class="sc_ctmm">
            @Html.TextBoxFor(m => m.DefaultReply)
        </div>
    </div>
    <div class="sc_ctm sc_top">
        <span>活动描述</span>
        <div class="sc_ctmm">
            @Html.TextAreaFor(m => m.Description)
        </div>
    </div>
    <div class="sc_ctm sc_top">
        <span>截止日期</span>
        <div class="sc_ctmm">
            @Html.TextBoxFor(m => m.DeadLineTime, new { @class = "datepicker", @readonly = "readonly" })
        </div>
    </div>
    <div id="AwradTypes">
        @{
    Model.AwardTypes = new Collection<AwardType>();
        }
        @Html.Partial("Activity/ActivityAwardTypes", Model.AwardTypes)
    </div>
    <div class="hide">
        @Html.TextBoxFor(m => m.Type)
        @Html.TextBoxFor(m => m.OwnerID)
        @Html.TextBoxFor(m => m.RuleType)
    </div>
    <div class="cm_ft sc_ft">
        <a onclick="SummitActive();">保存</a>
    </div>
}
<script src="~/Content/Scripts/Datapicker.js"></script>
<script type="text/javascript" src="~/Content/Scripts/Conversation/AcitvityTimePicker.js"></script>
<script type="text/javascript" src="~/Content/Scripts/Conversation/AwardType.js"></script>
<script type="text/javascript" src="~/Content/Libraries/jQuery/jquery.validate.js"></script>
<script type="text/javascript" src="~/Content/Scripts/jquery-validator-extend.js"></script>
